(this["webpackJsonpintern-task-1"]=this["webpackJsonpintern-task-1"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(5),i=n.n(r),c=(n(26),n(11)),o=n.n(c),l=n(21),u=n(19),d=n(6),p=n(7),f=n(9),h=n(8),j=n(20),b=(n(28),n(2)),y=n.n(b),g=n(10),m=(n(37),n(38),n(39),n(0)),O=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).columnDefs=[{field:"name",rowDrag:!0}],s.productColumnDefs=[{field:"product",rowDrag:!0}],s.salesColumnDefs=[{field:"area"},{field:"country"},{field:"productType"},{field:"year"},{field:"channel"},{field:"orderDate"},{field:"orderId"},{field:"shipDate"},{field:"unitsSold"},{field:"unitPrice"},{field:"unitCost"},{field:"totalRevenue"},{field:"totalCost"},{field:"totalProfit"}],s.defaultColDef={filter:!0,flex:1,sortable:!0},s.onGridReady=function(e){s.countryGridApi=e.api;var t=document.getElementById("country-selection"),n={getContainer:function(){return t},onDragStop:function(e){s.setState({selectedCountry:e.node.data.name}),s.setState({uniqueProducts:y.a.uniqBy(s.props.sales.filter((function(t){return t[1]===e.node.data.name})).map((function(e){return{product:e[2]}})),"product")})}};e.api.addRowDropZone(n)},s.onProductsGridReady=function(e){s.countryGridApi=e.api;var t=document.getElementById("product-selection"),n={getContainer:function(){return t},onDragStop:function(e){console.log("this props"+s.props),s.setState({selectedProducts:e.nodes.map((function(e){return e.data.product}))},(function(){s.setState({salesListToDisplay:y.a.uniq(s.props.sales.filter((function(e){return e[1]===s.state.selectedCountry&&-1!==s.state.selectedProducts.indexOf(e[2])}))).map((function(e){return{area:e[0],country:e[1],productType:e[2],year:e[3],channel:e[4],orderDate:e[5],orderId:e[6],shipDate:e[7],unitsSold:e[8],unitPrice:e[9],unitCost:e[10],totalRevenue:e[11],totalCost:e[12],totalProfit:e[13]}}))})}))}};e.api.addRowDropZone(n)},s.state={selectedCountry:"",uniqueProducts:[],selectedProducts:[],salesListToDisplay:[]},s}return Object(p.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"countrys",children:"COUNTRIES"}),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{style:{width:"200px",height:"500px"},className:"ag-theme-alpine",children:Object(m.jsx)(g.AgGridReact,{className:"country-table",columnDefs:this.columnDefs,rowData:this.props.countrys,rowDragManaged:!0,animateRows:!0,onGridReady:this.onGridReady,suppressMoveWhenRowDragging:!0})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"country-input",children:["Please select a Country  by dragging from the list:",Object(m.jsx)("input",{type:"text",id:"country-selection",value:this.state.selectedCountry})]}),Object(m.jsx)("br",{}),this.state.selectedCountry&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{style:{width:"200px",height:"500px"},className:"ag-theme-alpine",children:Object(m.jsx)(g.AgGridReact,{className:"product-table",columnDefs:this.productColumnDefs,rowData:this.state.uniqueProducts,rowDragManaged:!0,animateRows:!0,onGridReady:this.onProductsGridReady,enableMultiRowDragging:!0,rowSelection:"multiple",suppressMoveWhenRowDragging:!0})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"product-input",children:["Please select a list of products by selecting and dragging from the list:",Object(m.jsx)("textarea",{id:"product-selection",rows:"10",columns:"50",value:y.a.isEmpty(this.state.selectedProducts)?"":this.state.selectedProducts.join(",")})]})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"output",children:"OUTPUT :"}),this.state.selectedProducts.length>0&&Object(m.jsx)("div",{style:{width:"100%",height:"500px"},className:"ag-theme-alpine",children:Object(m.jsx)(g.AgGridReact,{columnDefs:this.salesColumnDefs,defaultColDef:this.state.defaultColDef,rowData:this.state.salesListToDisplay})}),Object(m.jsx)("br",{})]})}}]),n}(s.Component),x=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={sales:[],countrys:[]},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"EVALUATION EXERCISE "})," ",Object(m.jsx)("br",{}),Object(m.jsx)("h2",{children:"Drag & Drop"}),Object(m.jsxs)("div",{onDragOver:function(e){e.preventDefault()},onDrop:function(t){t.preventDefault(),Array.from(t.dataTransfer.files).filter((function(e){return"application/vnd.ms-excel"===e.type})).forEach(function(){var t=Object(u.a)(o.a.mark((function t(n){var s,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.text();case 2:s=t.sent,(a=Object(j.parse)(s)).data.shift(),e.setState({sales:Object(l.a)(a.data)},(function(){var t=e.state.sales.map((function(e){return{name:e[1]}}));e.setState({countrys:y.a.uniqBy(t,"name")})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:[Object(m.jsx)("p",{children:"DROP HERE"}),Object(m.jsx)("div",{children:this.state.countrys.length>0&&Object(m.jsx)(O,{countrys:this.state.countrys,sales:this.state.sales})})]})]})}}]),n}(s.Component),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),D()}},[[41,1,2]]]);
//# sourceMappingURL=main.a64e7817.chunk.js.map